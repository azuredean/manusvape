# ManusVape 项目 TODO

## 数据库与后端架构
- [x] 设计并实现产品表 (products)
- [x] 设计并实现订单表 (orders, orderItems)
- [x] 设计并实现用户地址表 (userAddresses)
- [x] 设计并实现年龄验证审计表 (ageVerifications)
- [x] 运行数据库迁移 (pnpm db:push)
- [x] 创建数据库查询助手函数 (server/db.ts)

## 支付接口集成（后续手动配置）
- [ ] 预留支付接口端点
- [ ] 创建订单创建和支付确认tRPC过程
- [ ] 实现支付成功/失败回调处理框架

## 年龄门控与法律合规
- [x] 创建年龄门控页面组件
- [x] 实现年龄验证逻辑（客户端 + 服务器端）
- [x] 创建年龄验证审计记录功能
- [x] 创建健康警告组件（可在多个页面复用）
- [x] 创建使用条款页面
- [x] 创建隐私政策页面
- [x] 创建TGA声明页面
- [ ] 在结账流程中添加健康警告确认

## 产品展示与筛选
- [x] 实现产品列表tRPC过程
- [x] 实现产品筛选逻辑（品牧、口味、尼古丁含量、价格）
- [x] 实现产品搜索功能
- [x] 实现筛选选项接口
- [x] 创建产品卡片组件
- [x] 创建产品网格布局
- [x] 下载四个品牧的logo和产品图片
- [x] 创建产品数据配置文件
- [ ] 创建产品详情页面
- [ ] 添加产品评价展示

## 购物车系统
- [ ] 创建购物车状态管理 (React Context)
- [ ] 实现购物车持久化 (localStorage + 数据库)
- [ ] 创建购物车页面
- [ ] 实现添加/移除产品功能
- [ ] 实现更新数量功能
- [ ] 创建购物车摘要组件

## 结账流程
- [ ] 创建结账页面
- [ ] 实现配送地址选择/输入
- [ ] 实现配送方式选择
- [ ] 创建订单总结页面
- [ ] 集成Stripe Payment Element
- [ ] 实现支付处理逻辑
- [ ] 创建订单确认页面
- [ ] 实现订单确认邮件发送

## 用户账户系统
- [ ] 创建用户账户仪表板
- [ ] 实现订单历史查询
- [ ] 创建订单详情页面
- [ ] 实现配送地址管理 (CRUD)
- [ ] 创建账户设置页面
- [ ] 实现邮件通知偏好设置

## 响应式设计与优化
- [ ] 审查移动端布局 (320px)
- [ ] 审查平板端布局 (768px)
- [ ] 审查桌面端布局 (1024px+)
- [ ] 优化图片加载和缓存
- [ ] 实现图片懒加载
- [ ] 测试触摸交互
- [ ] 测试键盘导航

## 测试与质量保证
- [ ] 编写年龄验证单元测试
- [ ] 编写产品筛选单元测试
- [ ] 编写购物车逻辑单元测试
- [ ] 编写支付流程集成测试
- [ ] 进行浏览器兼容性测试
- [ ] 进行法规合规审查

## 部署与GitHub同步
- [ ] 验证GitHub仓库连接
- [ ] 配置GitHub Actions CI/CD
- [ ] 创建项目检查点
- [ ] 同步所有代码至GitHub
- [ ] 部署到澳洲服务器
- [ ] 进行上线前最终测试

---

**项目状态：** 规划阶段  
**最后更新：** 2026年1月1日
